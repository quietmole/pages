<!DOCTYPE HTML>
<html>
<head>
  <title>Bookmarklet of quietmole</title>
</head>
<body>
<h1>Bookmarklet of quietmole</h1>

Bookmarklet for Safari and Chrome.

<h3>Create link plain</h3>

Create plain link from selected text or current page title.<br />
<em>E.g. Bookmarklet of quietmole https://quietmole.github.io/pages/</em><br />

<a href="javascript:void%20function(){var%20n=(%22getSelection%22in%20window%3Fwindow:document).getSelection().toString(),o=window.document.title,i=window.location.href,t=[];n%3Ft.push(n):o%26%26t.push(o),t.push(i),window.prompt(%22created%20link%22,t.join(%22%20%22))}();">create link plain</a> / <a href="javascript:void%20function(){window.prompt(%22built%20javascript%22,%22javascript:void%2520function(){var%2520n=(%2522getSelection%2522in%2520window%253Fwindow:document).getSelection().toString(),o=window.document.title,i=window.location.href,t=[];n%253Ft.push(n):o%2526%2526t.push(o),t.push(i),window.prompt(%2522created%2520link%2522,t.join(%2522%2520%2522))}();%22)}();">copy javascript</a>

<h3>Create link markdown</h3>

Create markdown link from selected text or current page title.<br />
<em>E.g. [Bookmarklet of quietmole](https://quietmole.github.io/pages/)</em><br />

<a href="javascript:void%20function(){var%20n=(%22getSelection%22in%20window%3Fwindow:document).getSelection().toString(),o=window.document.title,i=window.location.href,t=[];n%3Ft.push(%22[%22+n+%22]%22):t.push(%22[%22+o+%22]%22),t.push(%22(%22+i+%22)%22),window.prompt(%22created%20link%22,t.join(%22%22))}();">create link markdown</a> / <a href="javascript:void%20function(){window.prompt(%22built%20javascript%22,%22javascript:void%2520function(){var%2520n=(%2522getSelection%2522in%2520window%253Fwindow:document).getSelection().toString(),o=window.document.title,i=window.location.href,t=[];n%253Ft.push(%2522[%2522+n+%2522]%2522):t.push(%2522[%2522+o+%2522]%2522),t.push(%2522(%2522+i+%2522)%2522),window.prompt(%2522created%2520link%2522,t.join(%2522%2522))}();%22)}();">copy javascript</a>

<h2>About browser</h2>

A web site which uses CSP (Content Security Policy) blocks bookmarklet on Firefox.

<h3>Bookmarklet without an external script</h3>

<code>javascript:()(function(){window.alert('foo');})</code>

<ul>
  <li>chrome 46: alert 'foo'</li>
  <li>firefox 42: bookmarklet does not work</li>
  <li>ios 8 safari: alert 'foo'</li>
  <li>android 5.1 chrome: alert 'foo'</li>
  <li>android 5.1 firefox 41: bookmarklet does not work</li>
</ul>

<h3>Bookmarklet with an external script</h3>

<ul>
  <li>chrome 46: bookmarklet does not read an external script because of csp violation</li>
  <li>firefox 42: bookmarklet does not work</li>
</ul>

<a href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP">CSP (Content Security Policy) - Web security | MDN</a>

</body>
</html>
